{% extends "base.html" %}

{% block title %}Map{% endblock title %}

{% block description %}Mappr | A modern mast map{% endblock %}

{% block content %}
	<div id="csrf_token" data-value="{{ csrf_token() }}"></div>
	<div id="page">
		<div id="map"></div>

		<div id="sidebar">
			{% include "map/controls.html" %}
		</div>
	</div>
{% endblock content %}

{% block jsfiles %}
{{ super() }}
	<!-- Leaflet ESRI -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/esri-leaflet/3.0.1/esri-leaflet.min.js" integrity="sha512-yYYNKoOkoAzpeGuQNJNahD+hoiHP+yyeX/BP79gqd93EgOZGrL9VqSm35Smw0+4S9lgsNIKrSsVtmOLksLsjiw==" crossorigin="anonymous"></script>

	<!-- Leaflet Marker Cluster -->
	<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
	<link href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" rel="stylesheet" />

	<!-- CSRF Token -->
	<script type="text/javascript">
		let _csrf = "{{ csrf_token() }}";
	</script>

	<script src="{{ url_for('static', filename='js/leaflet.canvas-markers.js') }}" type="text/javascript"></script>

	<!-- Map JS files -->
	<script src="{{ url_for('static', filename='js/map/api.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/bookmarks.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/csv.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/data.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/history.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/map.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/table.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/ui.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/xyz.js') }}" type="text/javascript"></script>
	<script src="{{ url_for('static', filename='js/map/init.js') }}" type="text/javascript" defer></script>
{% endblock jsfiles %}
