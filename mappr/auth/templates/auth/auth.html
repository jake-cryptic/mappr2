{% extends "base.html" %}

{% block title %}{{ title }}{% endblock title %}

{% block content %}
<div class="container-fluid bg-light p-5">
	<div class="container">
		<h1 class="display-4">Access is restricted.</h1>
		{% include "components/alert.html" %}

		<ul class="nav nav-pills mb-3" id="tabs_list" role="tablist">
			<li class="nav-item" role="presentation">
				<a class="nav-link active" id="login_tab" data-bs-toggle="pill" data-bs-target="#login_pane" href="#login_pane" role="tab" aria-controls="login_pane" aria-selected="true">Login</a>
			</li>
			<li class="nav-item" role="presentation">
				<a class="nav-link" id="create_tab" data-bs-toggle="pill" data-bs-target="#create_pane" href="#create_pane"  role="tab" aria-controls="create_pane" aria-selected="false">Create</a>
			</li>
			<li class="nav-item" role="presentation">
				<a class="nav-link" id="forgot_tab" data-bs-toggle="pill" data-bs-target="#forgot_pane" href="#forgot_pane"  role="tab" aria-controls="forgot_pane" aria-selected="false">Forgot</a>
			</li>
		</ul>

		<div class="tab-content" id="content">
			<div class="tab-pane fade show active" id="login_pane" role="tabpanel" aria-labelledby="login_tab">
				<form id="login_form" action="{{ url_for('auth_bp.auth') }}" method="POST">
					{{ login_user.csrf_token }}
					<div class="mb-3 ">
						{{ login_user.email.label(class="form-label") }}
						{{ login_user.email(class="form-control") }}
						<small id="emailHelp" class="form-text text-muted">Please enter your registered email.</small>
					</div>
					<div class="mb-3 ">
						{{ login_user.password.label(class="form-label") }}
						{{ login_user.password(class="form-control") }}
					</div>
					<button type="submit" class="btn btn-primary">Login</button>
				</form>
			</div>
			<div class="tab-pane fade" id="create_pane" role="tabpanel" aria-labelledby="create_tab">
				<form id="create_form" action="{{ url_for('auth_bp.auth') }}" method="POST">
					{{ create_user.csrf_token }}
					<div class="mb-3 ">
						{{ create_user.name.label(class="form-label") }}
						{{ create_user.name(class="form-control") }}
						<small id="name_help" class="form-text text-muted">X Ã† A-12 will not pass my validation checks so don't try.</small>
					</div>
					<div class="mb-3 ">
						{{ create_user.email.label(class="form-label") }}
						{{ create_user.email(class="form-control") }}
					</div>
					<div class="mb-3 ">
						{{ create_user.password.label(class="form-label") }}
						{{ create_user.password(class="form-control") }}
					</div>
					<button type="submit" class="btn btn-info">Request Access</button>
				</form>
			</div>
			<div class="tab-pane fade" id="forgot_pane" role="tabpanel" aria-labelledby="forgot_tab">
				Too bad.
			</div>
		</div>
	</div>
</div>
{% endblock content %}

{% block jsfiles %}
{{ super() }}
<script src="{{ url_for('static', filename='js/login.js') }}" type="text/javascript"></script>
{% endblock jsfiles %}
